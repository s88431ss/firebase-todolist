(function(){"use strict";var t={7869:function(t,e,a){var i=a(6369),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("TodoList",{attrs:{"is-login":t.isLogin,"login-check":t.loginCheck,"color-type":t.colorType,"user-info":t.userInfo},on:{"hide-detail":function(e){t.showDetail=!1},login:t.signIn}}),e("div",{attrs:{id:"fix-tool"}},[e("ul",{staticClass:"color-change"},t._l(t.colorTypes,(function(a){return e("li",{key:a.text,class:a.class,on:{click:function(e){t.colorType=a.class}}})})),0),t.isLogin?e("div",{staticClass:"user-info"},[e("div",{staticClass:"img-small",attrs:{title:"Show user info"},on:{click:function(e){t.showDetail=!t.showDetail}}},[e("img",{attrs:{src:t.userInfo.photoURL,alt:""}})]),t.showDetail?e("div",{staticClass:"info-detail"},[e("div",{staticClass:"img-box"},[e("img",{attrs:{src:t.userInfo.photoURL,alt:""}})]),e("h3",[t._v(t._s(t.userInfo.displayName))]),e("p",[t._v(t._s(t.userInfo.email))]),e("button",{staticClass:"change-color",class:t.colorType,on:{click:t.signOut}},[e("fa-icon",{staticClass:"fix",attrs:{icon:"right-from-bracket"}}),t._v(" Sign out ")],1)]):t._e()]):t._e()])],1)},n=[],o=a(4275),l=a(1178),r=a(5155);const c={apiKey:"AIzaSyDOD-Fj0_qvAhAt6_D8LL6LJbK9oWDhCgQ",authDomain:"todolist-sophia-test.firebaseapp.com",projectId:"todolist-sophia-test",storageBucket:"todolist-sophia-test.appspot.com",messagingSenderId:"561485882260",appId:"1:561485882260:web:3c0e228458916e6a082581",measurementId:"G-CWVFCBW4EJ"},d=o.ZF(c),u=()=>{const t=new r.hJ;t.setCustomParameters({prompt:"select_account"});const e=r.v0();r.F6(e,t)},h=()=>{const t=r.v0();t.signOut().then((()=>{console.log("logout success!")})).catch((t=>{console.log(t)}))},g=t=>{const e=l.N8(d),a=l.iH(e,t);return a};var f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"change-color",class:t.colorType,attrs:{id:"to-do-list"},on:{click:function(e){return t.$emit("hide-detail")}}},[e("h1",[t._v("ToDoList")]),e("div",{staticClass:"block-wrap"},[t.loginCheck?t.loading?e("div",{staticClass:"loading-text"},[t._v("Loading...")]):t.isLogin?[e("ul",{staticClass:"check-list"},t._l(t.list,(function(a,i){return e("li",{key:a.id},[a.edit?[e("div",{staticClass:"front-icon"},[e("fa-icon",{attrs:{icon:"pen"}}),e("fa-icon",{staticClass:"small",attrs:{icon:"ellipsis"}})],1),e("input",{directives:[{name:"model",rawName:"v-model",value:a.editName,expression:"item.editName"}],attrs:{type:"text",id:a.id?"input"+a.id:"inputNew",disabled:a.loading,placeholder:"Please Enter Name..."},domProps:{value:a.editName},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSaveChange(a)},input:function(e){e.target.composing||t.$set(a,"editName",e.target.value)}}}),e("button",{staticClass:"edit-btn check",attrs:{title:"Save Change"},on:{click:function(e){return t.handleSaveChange(a)}}},[e("fa-icon",{attrs:{icon:"check"}})],1),e("button",{staticClass:"edit-btn",attrs:{title:"Cancel Change"},on:{click:function(e){return t.handleCancelChange(a,i)}}},[e("fa-icon",{attrs:{icon:"xmark"}})],1)]:[e("input",{directives:[{name:"model",rawName:"v-model",value:a.Status,expression:"item.Status"}],attrs:{id:"check"+a.id,type:"checkbox"},domProps:{checked:Array.isArray(a.Status)?t._i(a.Status,null)>-1:a.Status},on:{change:[function(e){var i=a.Status,s=e.target,n=!!s.checked;if(Array.isArray(i)){var o=null,l=t._i(i,o);s.checked?l<0&&t.$set(a,"Status",i.concat([o])):l>-1&&t.$set(a,"Status",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(a,"Status",n)},e=>t.handleChangeCheck(a)]}}),e("label",{class:{active:a.Status},attrs:{for:"check"+a.id,title:"Click to complete, Drop to move.",draggable:"true","data-index":i},on:{dragstart:e=>t.handleDragstart(e),dragover:e=>t.handleDragover(e),dragleave:e=>t.handleDragleave(e),drop:e=>t.handleDrop(e,t.list)}},[e("fa-icon",{attrs:{icon:a.Status?"square-check":"fa-regular fa-square"}}),e("span",[t._v(t._s(a.Name))])],1),e("button",{staticClass:"edit-btn",attrs:{title:"Edit",disabled:a.loading},on:{click:function(e){return t.handleEdit(a)}}},[e("fa-icon",{attrs:{icon:"pen"}})],1),t.list.length>1?e("button",{staticClass:"edit-btn",attrs:{title:"Remove",disabled:a.loading},on:{click:function(e){return t.handleRemove(a)}}},[e("fa-icon",{attrs:{icon:"trash"}})],1):t._e(),t.list.length>1?e("button",{staticClass:"edit-btn move",attrs:{title:"Drop to move",disabled:a.loading,draggable:"true","data-index":i},on:{dragstart:e=>t.handleDragstart(e),dragover:e=>t.handleDragover(e),dragleave:e=>t.handleDragleave(e),drop:e=>t.handleDrop(e,t.list)}},[e("fa-icon",{attrs:{icon:"ellipsis"}})],1):t._e()]],2)})),0),e("div",{staticClass:"btn-wrap"},[e("button",{staticClass:"white",attrs:{title:"Reset list to default",disabled:t.loading},on:{click:t.handleReset}},[e("fa-icon",{staticClass:"fix",attrs:{icon:"trash"}}),e("span",[t._v("Reset")])],1),e("button",{attrs:{title:"Add new item",disabled:t.loading||t.disabledAdd},on:{click:t.handleAdd}},[e("fa-icon",{staticClass:"fix",attrs:{icon:"plus"}}),e("span",[t._v("Add")])],1)])]:e("div",[e("h2",{staticClass:"block-title"},[t._v("Welcome to ToDoList!")]),t._m(0),e("button",{staticClass:"w-full",on:{click:function(e){return t.$emit("login")}}},[t._v("Sign In")])]):e("div",{staticClass:"loading-text"},[t._v(" Performing login verification... ")])],2)])},p=[function(){var t=this,e=t._self._c;return e("p",{staticClass:"description"},[t._v(" Please Sign in with Google to use this tool. "),e("br"),t._v(" Your information will be saved in the "),e("a",{attrs:{href:"https://firebase.google.com/",title:"Google Firebase Realtime Database",target:"_blank"}},[t._v("Google Firebase Realtime Database")]),t._v(". ")])}],v=(a(7658),{name:"TodoList",props:{colorType:{type:String,default:"default"},userInfo:{type:Object,default:()=>({})},isLogin:{type:Boolean,default:!1},loginCheck:{type:Boolean,default:!1}},data(){return{loading:!1,dataBase:null,list:[]}},computed:{disabledAdd(){return this.list.find((t=>!t.id))}},watch:{isLogin:{handler(t){if(t){const t=this.userInfo.uid,e=g(`todolist/${t}`);this.dataBase=e,this.getData()}},immediate:!0}},methods:{async getData(){try{this.loading=!0;const t=await l.U2(this.dataBase);if(t){const e=t.toJSON();this.list=Object.entries(e).map((([t,e])=>({id:t,edit:!1,editName:"",loading:!1,...e})))}}finally{this.loading=!1}},async handleReset(){const t={0:{Name:"list1",Status:!1},1:{Name:"list2",Status:!1}};await l.t8(this.dataBase,t),this.getData()},async saveCurrentData(){const t={};this.list.forEach(((e,a)=>{e.id=a.toString(),t[a]={Name:e.Name,Status:e.Status}})),await l.t8(this.dataBase,t)},handleChangeCheck(t){const{Name:e,Status:a,id:i}=t,s=l.iU(this.dataBase,i),n={Name:e,Status:a};l.Vx(s,n)},handleEdit(t){t.edit=!0,t.editName=t.Name,setTimeout((()=>{const e=document.getElementById(`input${t.id}`);e&&e.focus()}),200)},async handleSaveChange(t){if(t.id)try{t.loading=!0;const{editName:e,id:a,Status:i}=t,s=l.iU(this.dataBase,a),n={Name:e,Status:i};await l.Vx(s,n)}finally{t.loading=!1}else{const e=this.dataBase,a={Name:t.editName,Status:t.Status};await l.VF(e,a)}this.getData()},handleCancelChange(t,e){t.id?(t.edit=!1,t.editName=""):this.list.splice(e,1)},async handleRemove(t){try{t.loading=!0;const{id:e}=t,a=l.iU(this.dataBase,e);await l.Od(a),this.getData()}finally{t.loading=!1}},handleAdd(){this.list.push({Name:"",edit:!0,editName:"",loading:!1,Status:!1}),setTimeout((()=>{const t=document.getElementById("inputNew");t&&t.focus()}),200)},handleDragstart(t){t.dataTransfer.setData("text",t.target.dataset.index)},handleDragover(t){t.preventDefault(),t.target.parentNode.classList.add("on-drag-over")},handleDragleave(t){t.target.parentNode.classList.remove("on-drag-over")},handleDrop(t,e){t.preventDefault(),t.target.parentNode.classList.remove("on-drag-over");const a=t.dataTransfer.getData("text"),i=t.target.dataset.index,s=e[a];e.splice(a,1),e.splice(i,0,s),this.saveCurrentData()}}}),m=v,b=a(1001),C=(0,b.Z)(m,f,p,!1,null,null,null),k=C.exports,y={name:"App",components:{TodoList:k},data(){return{colorType:"default",userInfo:{},showDetail:!1,loginCheck:!1}},beforeCreate(){this.colorTypes=[{text:"DEFAULT",class:"default"},{text:"GREEN",class:"green"},{text:"BLUE",class:"blue"},{text:"PURPLE",class:"purple"},{text:"PINK",class:"pink"},{text:"RED",class:"red"}]},computed:{isLogin(){return!!this.userInfo.uid}},created(){this.createLoginCheck()},methods:{createLoginCheck(){const t=(0,r.v0)();(0,r.Aj)(t,(t=>{this.userInfo=t||{},this.loginCheck=!0}))},signIn(){u()},signOut(){h()}}},_=y,D=(0,b.Z)(_,s,n,!1,null,null,null),w=D.exports,S=a(7749),N=a(3494),x=a(8539),L=a(8429);i.ZP.config.productionTip=!1,N.vI.add(x.chG,L.pL1,x.IwR,x.$aW,x.S6C,x.r8p,x.LEp,x.g82,x.mXR),i.ZP.component("FaIcon",S.GN),new i.ZP({render:t=>t(w)}).$mount("#app")}},e={};function a(i){var s=e[i];if(void 0!==s)return s.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,i,s,n){if(!i){var o=1/0;for(d=0;d<t.length;d++){i=t[d][0],s=t[d][1],n=t[d][2];for(var l=!0,r=0;r<i.length;r++)(!1&n||o>=n)&&Object.keys(a.O).every((function(t){return a.O[t](i[r])}))?i.splice(r--,1):(l=!1,n<o&&(o=n));if(l){t.splice(d--,1);var c=s();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[i,s,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,n,o=i[0],l=i[1],r=i[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(r)var d=r(a)}for(e&&e(i);c<o.length;c++)n=o[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(d)},i=self["webpackChunkfirebase_todolist"]=self["webpackChunkfirebase_todolist"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(7869)}));i=a.O(i)})();
//# sourceMappingURL=app.01d7a397.js.map